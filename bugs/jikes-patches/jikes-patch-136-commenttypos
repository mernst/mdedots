Subject: Jikes patch: corrections to source comments

This patch corrects several comments in the Jikes source.  Many are typos;
one removes an incorrect (copy-and-paste) error; a couple adds some
information.

This patch is to Jikes 1.14.  You can apply it in the src/ directory.


diff -u -r jikes/src/control.cpp jikes-tmp/src/control.cpp
--- jikes/src/control.cpp	Thu Jun  7 10:00:49 2001
+++ jikes-tmp/src/control.cpp	Thu Jun  7 10:07:11 2001
@@ -1004,6 +1004,8 @@
     {
         assert(semantic.Length() == 0);
 
+        // These bodies are not necessarily in file_symbol; they
+        // might be in another FileSymbol used by file_symbol.
         ProcessBodies(needs_body_work[i]);
     }
     needs_body_work.Reset();
@@ -1090,7 +1092,7 @@
         } while (start < semantic.Length());
 
         //
-        // Patially order the collection of types in needs_member_work and place the result
+        // Partially order the collection of types in needs_member_work and place the result
         // in partially_ordered_types. This reordering is based on the complete "supertype"
         // information computed in ProcessTypeHeaders.
         //
diff -u -r jikes/src/expr.cpp jikes-tmp/src/expr.cpp
--- jikes/src/expr.cpp	Thu Jun  7 10:00:50 2001
+++ jikes-tmp/src/expr.cpp	Thu Jun  7 10:07:11 2001
@@ -3791,7 +3791,7 @@
     constructor -> SetACC_PUBLIC();
 
     //
-    // Report error is super constructor has throws clause, but add the exceptions to the local throws
+    // Report error if super constructor has throws clause, but add the exceptions to the local throws
     // clause to avoid spurious errors later !!!
     //
     int num_throws = super_constructor -> NumThrows();
@@ -4027,6 +4027,8 @@
 }
 
 
+// super_type is the type specified in the anonymous constructor,
+// which is the supertype of the created anonymous type.
 TypeSymbol *Semantic::GetAnonymousType(AstClassInstanceCreationExpression *class_creation, TypeSymbol *super_type)
 {
     TypeSymbol *this_type = ThisType();
@@ -4084,7 +4086,7 @@
     // in the 1.1 document. Furthermore, the class file that is emitted for an
     // anonymous flag (when processed by javac) does not have the FINAL flag turned on.
     // We also turn this flag off after processing the body of the anonymmous type.
-    // See bolow...
+    // See below...
     //
     inner_type -> SetACC_FINAL();
 
diff -u -r jikes/src/modifier.cpp jikes-tmp/src/modifier.cpp
--- jikes/src/modifier.cpp	Thu Jun  7 10:00:50 2001
+++ jikes-tmp/src/modifier.cpp	Thu Jun  7 10:07:11 2001
@@ -414,7 +414,7 @@
 }
 
 /**
- * Process modifieres for interface contained in another interface.
+ * Process modifiers for interface contained in another interface.
  */
 AccessFlags Semantic::ProcessStaticNestedInterfaceModifiers(AstInterfaceDeclaration *interface_declaration)
 {
diff -u -r jikes/src/set.h jikes-tmp/src/set.h
--- jikes/src/set.h	Thu Feb  1 05:24:07 2001
+++ jikes-tmp/src/set.h	Thu Jun  7 10:06:29 2001
@@ -128,7 +128,7 @@
     }
 
     //
-    // Empty out the set in question - i.e., remove all its elements
+    // Determine whether the set is empty.
     //
     bool IsEmpty() { return symbol_pool.Length() == 0; }
 
diff -u -r jikes/src/symbol.h jikes-tmp/src/symbol.h
--- jikes/src/symbol.h	Sat Apr 28 15:34:37 2001
+++ jikes-tmp/src/symbol.h	Thu Jun  7 10:07:08 2001
@@ -185,7 +185,7 @@
     time_t mtime;
 
     //
-    // These fields are used for buffer "files".
+    // This field is used for buffer "files".
     //
 
     // FIXME: This field does not seem to be set anywhere,
@@ -626,7 +626,7 @@
     FileLocation *file_location;
     NameSymbol *name_symbol;
     Symbol *owner;
-    TypeSymbol *outermost_type; // An nested class identifies the outer most type that contains it.
+    TypeSymbol *outermost_type; // A nested class identifies the outer most type that contains it.
                                 // If a class is not nested then it identifies itself as its outer
                                 // most type.
     TypeSymbol *super,
